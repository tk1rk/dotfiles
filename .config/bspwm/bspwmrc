#!/just/bin/env sh

# Set environment
export BSPWM_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/bspwm"

# cursor
xsetroot -cursor_name left_ptr &
bspc config focus_follows_pointer true

bspc monitor -d 1 2 3 4

bspc config border_width        5
bspc config window_gap          8
bspc config top_padding         0

bspc config split_ratio                 0.52
bspc config borderless_monocle          true
bspc config gapless_monocle             true
bspc config focus_follows_pointer       true
bspc config history_aware_focus         true

# polkit client
pgrep lxpolkit || lxpolkit &

# ibus daemon
pgrep ibus-daemon || ibus-daemon &

# nm-applet
pgrep -u $USER -x nm-applet > /dev/null || (nm-applet &)

# picom
pgrep -u "$USER" picom >/dev/null || picom -f -b &	

# dunst
dunst -conf $HOME/.config/dunst/dunstrc &
	
# window swallowing
pgrep bspswallow || bspswallow &

# polybar
$HOME/.config/polybar/launch.sh & 

# rofi/launcher
/usr/bin/rofi -show drun -display-drun "Run" -show-icons &

# Launch keybinding daemon
sxhkd -c "$BSPWM_CONFIG/sxhkdrc" &

# Autostart
"$BSPWM_CONFIG/autostart" &

# pulseaudio
pulseaudio &


nitrogen --restore
